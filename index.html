<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Jam API Documentation 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --dj-black: #0A0C11;
            --dj-pink: #E62F6E;
            --dj-orange: #E94B52;
            --dj-white: #FEFAF9;
            --dj-purple: #5E2BFF;
            --dj-teal: #15E0BC;
            --dj-green: #78C534;
            --dj-yellow: #EDBA06;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            font-weight: 300;
            background-color: var(--dj-black);
            color: var(--dj-white);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* Cover Page */
        .cover {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .cover::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background:
                radial-gradient(ellipse at 20% 20%, var(--dj-pink) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, var(--dj-orange) 0%, transparent 50%);
            opacity: 0.15;
            z-index: 0;
        }

        .cover-content {
            position: relative;
            z-index: 1;
        }

        .logo {
            margin-bottom: 60px;
        }

        .logo img {
            height: 60px;
            width: auto;
        }

        .logo-small img {
            height: 40px;
            width: auto;
        }

        h1 {
            font-size: 5rem;
            font-weight: 300;
            letter-spacing: 10px;
            background: linear-gradient(135deg, var(--dj-orange), var(--dj-pink));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
        }

        .subtitle {
            font-size: 1.2rem;
            font-weight: 300;
            letter-spacing: 3px;
            text-transform: uppercase;
            opacity: 0.8;
        }

        .version {
            position: absolute;
            bottom: 40px;
            font-size: 0.9rem;
            opacity: 0.6;
        }

        /* Section Styles */
        .section {
            padding: 80px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        h2 {
            font-size: 2.5rem;
            font-weight: 500;
            margin-bottom: 40px;
            color: var(--dj-pink);
        }

        h3 {
            font-size: 1.5rem;
            font-weight: 500;
            margin: 30px 0 15px;
            color: var(--dj-orange);
        }

        h4 {
            font-size: 1.1rem;
            font-weight: 500;
            margin: 20px 0 10px;
            color: var(--dj-white);
        }

        p {
            margin-bottom: 15px;
            opacity: 0.9;
        }

        /* Code Blocks */
        .code-block {
            background: rgba(255,255,255,0.05);
            border-left: 4px solid var(--dj-pink);
            border-radius: 0 8px 8px 0;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.9rem;
        }

        .code-block pre {
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .inline-code {
            background: rgba(230, 47, 110, 0.2);
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.85rem;
            color: var(--dj-pink);
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        th {
            background: linear-gradient(135deg, var(--dj-pink), var(--dj-orange));
            font-weight: 500;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 1px;
        }

        tr:hover {
            background: rgba(255,255,255,0.03);
        }

        /* Cards */
        .card {
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 30px;
            margin: 20px 0;
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .endpoint-card {
            background: linear-gradient(135deg, rgba(230, 47, 110, 0.1), rgba(233, 75, 82, 0.1));
            border: 1px solid var(--dj-pink);
            border-radius: 12px;
            padding: 25px;
        }

        .method {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 500;
            font-size: 0.8rem;
            margin-bottom: 10px;
        }

        .method-get {
            background: var(--dj-teal);
            color: var(--dj-black);
        }

        .method-post {
            background: var(--dj-purple);
            color: var(--dj-white);
        }

        /* Alert Boxes */
        .alert {
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .alert-warning {
            background: rgba(237, 186, 6, 0.15);
            border-left: 4px solid var(--dj-yellow);
        }

        .alert-info {
            background: rgba(21, 224, 188, 0.15);
            border-left: 4px solid var(--dj-teal);
        }

        .alert-important {
            background: rgba(230, 47, 110, 0.15);
            border-left: 4px solid var(--dj-pink);
        }

        /* Lists */
        ul, ol {
            margin: 15px 0 15px 25px;
        }

        li {
            margin: 8px 0;
            opacity: 0.9;
        }

        /* Feature Icons */
        .features {
            display: flex;
            justify-content: center;
            gap: 60px;
            margin: 50px 0;
            flex-wrap: wrap;
        }

        .feature {
            text-align: center;
        }

        .feature-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 2rem;
            background: linear-gradient(135deg, var(--dj-pink), var(--dj-orange));
        }

        .feature-title {
            font-weight: 500;
            font-size: 1.1rem;
        }

        /* TOC */
        .toc {
            background: rgba(255,255,255,0.03);
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
        }

        .toc a {
            color: var(--dj-white);
            text-decoration: none;
            display: block;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            transition: color 0.3s;
        }

        .toc a:hover {
            color: var(--dj-pink);
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 60px 0;
            opacity: 0.7;
        }

        .contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }

        .contact-item {
            text-align: center;
            padding: 20px;
        }

        .contact-item a {
            color: var(--dj-pink);
            text-decoration: none;
        }

        /* Section Icons */
        .section-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 40px;
        }

        .section-icon {
            width: 50px;
            height: 50px;
            flex-shrink: 0;
        }

        .section-icon img {
            width: 100%;
            height: 100%;
        }

        .section-header h2 {
            margin-bottom: 0;
        }

        /* Page Break for Print */
        @media print {
            .page-break {
                page-break-before: always;
            }
            .sidebar, .search-container {
                display: none;
            }
        }

        /* Sidebar Navigation */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 280px;
            height: 100vh;
            background: rgba(10, 12, 17, 0.98);
            border-right: 1px solid rgba(255,255,255,0.1);
            padding: 20px 0;
            overflow-y: auto;
            z-index: 1000;
            transform: translateX(-100%);
            transition: transform 0.3s ease;
        }

        .sidebar.active {
            transform: translateX(0);
        }

        .sidebar-header {
            padding: 10px 20px 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            margin-bottom: 10px;
        }

        .sidebar-header img {
            height: 30px;
        }

        .sidebar-nav a {
            display: block;
            padding: 12px 20px;
            color: var(--dj-white);
            text-decoration: none;
            font-size: 0.9rem;
            border-left: 3px solid transparent;
            transition: all 0.2s;
        }

        .sidebar-nav a:hover, .sidebar-nav a.active {
            background: rgba(230, 47, 110, 0.1);
            border-left-color: var(--dj-pink);
            color: var(--dj-pink);
        }

        .sidebar-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--dj-pink), var(--dj-orange));
            border: none;
            border-radius: 12px;
            cursor: pointer;
            z-index: 1001;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 5px;
            transition: transform 0.2s;
        }

        .sidebar-toggle:hover {
            transform: scale(1.05);
        }

        .sidebar-toggle span {
            width: 24px;
            height: 2px;
            background: white;
            border-radius: 2px;
            transition: all 0.3s;
        }

        .sidebar-toggle.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .sidebar-toggle.active span:nth-child(2) {
            opacity: 0;
        }

        .sidebar-toggle.active span:nth-child(3) {
            transform: rotate(-45deg) translate(5px, -5px);
        }

        /* Search */
        .search-container {
            padding: 15px 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .search-box {
            width: 100%;
            padding: 12px 15px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            color: var(--dj-white);
            font-family: 'Poppins', sans-serif;
            font-size: 0.9rem;
            outline: none;
            transition: border-color 0.2s;
        }

        .search-box:focus {
            border-color: var(--dj-pink);
        }

        .search-box::placeholder {
            color: rgba(255,255,255,0.4);
        }

        .search-results {
            padding: 10px 20px;
            max-height: 300px;
            overflow-y: auto;
        }

        .search-result-item {
            padding: 10px;
            margin: 5px 0;
            background: rgba(255,255,255,0.03);
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: background 0.2s;
        }

        .search-result-item:hover {
            background: rgba(230, 47, 110, 0.15);
        }

        .search-highlight {
            background: rgba(230, 47, 110, 0.4);
            padding: 1px 3px;
            border-radius: 3px;
        }

        .no-results {
            padding: 10px;
            color: rgba(255,255,255,0.5);
            font-size: 0.85rem;
        }

        /* Copy Button */
        .code-block {
            position: relative;
        }

        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 6px 12px;
            background: rgba(230, 47, 110, 0.3);
            border: 1px solid var(--dj-pink);
            border-radius: 6px;
            color: var(--dj-white);
            font-size: 0.75rem;
            font-family: 'Poppins', sans-serif;
            cursor: pointer;
            transition: all 0.2s;
            opacity: 0;
        }

        .code-block:hover .copy-btn {
            opacity: 1;
        }

        .copy-btn:hover {
            background: var(--dj-pink);
        }

        .copy-btn.copied {
            background: var(--dj-teal);
            border-color: var(--dj-teal);
        }

        /* Keyboard shortcut hint */
        .search-hint {
            font-size: 0.7rem;
            color: rgba(255,255,255,0.3);
            margin-top: 8px;
            text-align: center;
        }

        .kbd {
            background: rgba(255,255,255,0.1);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
        }

        /* Sandbox Styles */
        .sandbox-container {
            background: rgba(255,255,255,0.02);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            overflow: hidden;
        }

        .sandbox-tabs {
            display: flex;
            background: rgba(0,0,0,0.3);
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .sandbox-tab {
            padding: 15px 25px;
            background: none;
            border: none;
            color: var(--dj-white);
            font-family: 'Poppins', sans-serif;
            font-size: 0.9rem;
            cursor: pointer;
            opacity: 0.6;
            transition: all 0.2s;
            border-bottom: 2px solid transparent;
        }

        .sandbox-tab:hover {
            opacity: 0.9;
        }

        .sandbox-tab.active {
            opacity: 1;
            border-bottom-color: var(--dj-pink);
            background: rgba(230, 47, 110, 0.1);
        }

        .sandbox-content {
            display: none;
            padding: 25px;
        }

        .sandbox-content.active {
            display: block;
        }

        .sandbox-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .sandbox-field {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .sandbox-field label {
            font-size: 0.8rem;
            color: rgba(255,255,255,0.7);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .sandbox-field input,
        .sandbox-field select {
            padding: 12px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.15);
            border-radius: 6px;
            color: var(--dj-white);
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.85rem;
        }

        .sandbox-field input:focus,
        .sandbox-field select:focus {
            outline: none;
            border-color: var(--dj-pink);
        }

        .sandbox-field select option {
            background: var(--dj-black);
        }

        .sandbox-btn {
            padding: 14px 30px;
            background: linear-gradient(135deg, var(--dj-pink), var(--dj-orange));
            border: none;
            border-radius: 8px;
            color: white;
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .sandbox-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(230, 47, 110, 0.4);
        }

        .sandbox-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .sandbox-response {
            margin-top: 20px;
        }

        .sandbox-response-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .sandbox-response-header h4 {
            margin: 0;
            font-size: 0.9rem;
            color: rgba(255,255,255,0.7);
        }

        .sandbox-status {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .sandbox-status.success {
            background: rgba(120, 197, 52, 0.2);
            color: var(--dj-green);
        }

        .sandbox-status.error {
            background: rgba(230, 47, 110, 0.2);
            color: var(--dj-pink);
        }

        .sandbox-status.loading {
            background: rgba(21, 224, 188, 0.2);
            color: var(--dj-teal);
        }

        .sandbox-output {
            background: rgba(0,0,0,0.4);
            border-radius: 8px;
            padding: 20px;
            max-height: 400px;
            overflow: auto;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.85rem;
            white-space: pre-wrap;
            word-break: break-word;
        }

        .sandbox-note {
            margin-top: 15px;
            padding: 12px 15px;
            background: rgba(237, 186, 6, 0.1);
            border-left: 3px solid var(--dj-yellow);
            border-radius: 0 6px 6px 0;
            font-size: 0.85rem;
        }
    </style>
</head>
<body>

<!-- Sidebar Toggle Button -->
<button class="sidebar-toggle" id="sidebarToggle" aria-label="Toggle navigation">
    <span></span>
    <span></span>
    <span></span>
</button>

<!-- Sidebar Navigation -->
<nav class="sidebar" id="sidebar">
    <div class="sidebar-header">
        <img src="logo-gradient.png" alt="Data Jam">
    </div>
    <div class="search-container">
        <input type="text" class="search-box" id="searchBox" placeholder="Search docs...">
        <div class="search-hint">Press <span class="kbd">/</span> to search</div>
    </div>
    <div class="search-results" id="searchResults"></div>
    <div class="sidebar-nav" id="sidebarNav">
        <a href="#quick-start">1. Quick Start</a>
        <a href="#sandbox">2. Try It Live</a>
        <a href="#authentication">3. Authentication</a>
        <a href="#endpoints">4. API Endpoints</a>
        <a href="#data-types">5. Data Types</a>
        <a href="#request-format">6. Request Format</a>
        <a href="#response-format">7. Response Format</a>
        <a href="#limits">8. Rate Limits</a>
        <a href="#postman">9. Postman Setup</a>
        <a href="#examples">10. Code Examples</a>
        <a href="#faq">11. FAQ</a>
        <a href="#support">12. Support</a>
    </div>
</nav>

<!-- Cover Page -->
<div class="cover">
    <div class="cover-content">
        <div class="logo">
            <a href="https://www.data-jam.com"><img src="logo-gradient.png" alt="Data Jam"></a>
        </div>
        <h1>API</h1>
        <p class="subtitle">Documentation</p>
    </div>
    <p class="version">Version 2.0 - 2026</p>
</div>

<!-- Main Content -->
<div class="container">

    <!-- Introduction -->
    <section class="section">
        <h2>REAL DATA. REAL TIME. YOUR WAY.</h2>
        <p style="font-size: 1.3rem; margin-bottom: 25px;">The smart way to access your OOH audience data. No spreadsheets. No waiting. Just plug in and go.</p>
        <p>The Data Jam API puts your live impressions, movement data, dwell time, and visitor analytics right where you need it. Pull it into your dashboards, feed it to your BI tools, automate your reporting - whatever works for you. Your JamBoxes are already doing the hard work. Now make that data work harder.</p>

        <div class="alert alert-info">
            <strong>What's New:</strong> Interactive API sandbox - test live API calls right in your browser. Fresh documentation. Clean examples. Plus - Data Jam PULSE predictive analytics is on the way.
        </div>
    </section>

    <!-- Table of Contents -->
    <section class="section">
        <h2>Contents</h2>
        <div class="toc">
            <a href="#quick-start">1. Quick Start</a>
            <a href="#sandbox">2. Try It Live</a>
            <a href="#authentication">3. Authentication</a>
            <a href="#endpoints">4. API Endpoints</a>
            <a href="#data-types">5. Data Types</a>
            <a href="#request-format">6. Request Format</a>
            <a href="#response-format">7. Response Format</a>
            <a href="#limits">8. Rate Limits & Constraints</a>
            <a href="#postman">9. Postman Setup Guide</a>
            <a href="#examples">10. Code Examples</a>
            <a href="#faq">11. FAQ</a>
            <a href="#support">12. Support</a>
        </div>
    </section>

    <!-- Quick Start -->
    <section class="section" id="quick-start">
        <div class="section-header">
            <div class="section-icon"><img src="icons/play.svg" alt=""></div>
            <h2>1. Quick Start</h2>
        </div>
        <p>Let's get you jamming. Five minutes, one API call, and you're pulling live audience data. Here's how:</p>

        <h3>Base URL</h3>
        <div class="code-block">
            <pre>https://datajamportal.com/CustomerAPI/</pre>
        </div>

        <h3>Quick Example</h3>
        <p>Fetch impression data for a device:</p>
        <div class="code-block">
            <pre>curl -X GET "https://datajamportal.com/CustomerAPI/GetData/" \
  -u "your_email@domain.com:your_password" \
  -H "Content-Type: application/json" \
  -d '{
    "project_name": "Your Project",
    "device_number": "JB000XXX",
    "start_date": "2026-01-01",
    "end_date": "2026-01-30",
    "type_data": "Impression",
    "filter": "All"
  }'</pre>
        </div>
    </section>

    <!-- Try It Sandbox -->
    <section class="section" id="sandbox">
        <div class="section-header">
            <div class="section-icon"><img src="icons/coding.svg" alt=""></div>
            <h2>Try It Live</h2>
        </div>
        <p>Test the API right here. Enter your credentials and parameters, hit send, and see real responses.</p>

        <div class="sandbox-container">
            <div class="sandbox-tabs">
                <button class="sandbox-tab active" data-tab="getdata">GetData</button>
                <button class="sandbox-tab" data-tab="getdeviceinfo">GetDeviceInfo</button>
            </div>

            <!-- GetData Tab -->
            <div class="sandbox-content active" id="tab-getdata">
                <div class="sandbox-form">
                    <div class="sandbox-field">
                        <label>Email</label>
                        <input type="email" id="sandbox-email" placeholder="your@email.com">
                    </div>
                    <div class="sandbox-field">
                        <label>Password</label>
                        <input type="password" id="sandbox-password" placeholder="Your password">
                    </div>
                    <div class="sandbox-field">
                        <label>Project Name</label>
                        <input type="text" id="sandbox-project" placeholder="Your Project">
                    </div>
                    <div class="sandbox-field">
                        <label>Device Number</label>
                        <input type="text" id="sandbox-device" placeholder="JB000XXX">
                    </div>
                    <div class="sandbox-field">
                        <label>Start Date</label>
                        <input type="date" id="sandbox-start">
                    </div>
                    <div class="sandbox-field">
                        <label>End Date</label>
                        <input type="date" id="sandbox-end">
                    </div>
                    <div class="sandbox-field">
                        <label>Data Type</label>
                        <select id="sandbox-type">
                            <option value="Impression">Impression</option>
                            <option value="Visitors">Visitors</option>
                            <option value="DwellTime">DwellTime</option>
                            <option value="UserData">UserData</option>
                        </select>
                    </div>
                    <div class="sandbox-field">
                        <label>Filter</label>
                        <select id="sandbox-filter">
                            <option value="All">All</option>
                            <option value="Default">Default</option>
                        </select>
                    </div>
                </div>
                <button class="sandbox-btn" id="sandbox-send-getdata">Send Request</button>

                <div class="sandbox-response" id="sandbox-response-getdata">
                    <div class="sandbox-response-header">
                        <h4>Response</h4>
                        <span class="sandbox-status" id="sandbox-status-getdata"></span>
                    </div>
                    <div class="sandbox-output" id="sandbox-output-getdata">// Response will appear here...</div>
                </div>

                <div class="sandbox-note">
                    <strong>Note:</strong> Use your own Data Jam Portal credentials. Only projects assigned to your account will work.
                </div>
            </div>

            <!-- GetDeviceInfo Tab -->
            <div class="sandbox-content" id="tab-getdeviceinfo">
                <div class="sandbox-form">
                    <div class="sandbox-field">
                        <label>Email</label>
                        <input type="email" id="sandbox-email-info" placeholder="your@email.com">
                    </div>
                    <div class="sandbox-field">
                        <label>Password</label>
                        <input type="password" id="sandbox-password-info" placeholder="Your password">
                    </div>
                    <div class="sandbox-field">
                        <label>Project Name</label>
                        <input type="text" id="sandbox-project-info" placeholder="Your Project">
                    </div>
                    <div class="sandbox-field">
                        <label>Device Number</label>
                        <input type="text" id="sandbox-device-info" placeholder="JB000XXX">
                    </div>
                </div>
                <button class="sandbox-btn" id="sandbox-send-info">Send Request</button>

                <div class="sandbox-response" id="sandbox-response-info">
                    <div class="sandbox-response-header">
                        <h4>Response</h4>
                        <span class="sandbox-status" id="sandbox-status-info"></span>
                    </div>
                    <div class="sandbox-output" id="sandbox-output-info">// Response will appear here...</div>
                </div>

                <div class="sandbox-note">
                    <strong>Tip:</strong> GetDeviceInfo returns lat/long coordinates, timezone, and device metadata.
                </div>
            </div>
        </div>
    </section>

    <!-- Authentication -->
    <section class="section" id="authentication">
        <div class="section-header">
            <div class="section-icon"><img src="icons/key.svg" alt=""></div>
            <h2>2. Authentication</h2>
        </div>
        <p>Same login you use for the Data Jam Portal. Simple as that. We use <strong>HTTP Basic Authentication</strong> - secure, standard, no fuss.</p>

        <h3>Credentials</h3>
        <table>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
            <tr>
                <td><span class="inline-code">username</span></td>
                <td>Your Data Jam Portal email address</td>
            </tr>
            <tr>
                <td><span class="inline-code">password</span></td>
                <td>Your Data Jam Portal password</td>
            </tr>
        </table>

        <h3>Header Format</h3>
        <div class="code-block">
            <pre>Authorization: Basic base64(username:password)</pre>
        </div>

        <div class="alert alert-warning">
            <strong>Important:</strong> Users can only access projects they have been assigned to. Attempting to access an unauthorized project will return: <span class="inline-code">{"msg": "User not allowed for Project."}</span>
        </div>
    </section>

    <!-- Endpoints -->
    <section class="section" id="endpoints">
        <div class="section-header">
            <div class="section-icon"><img src="icons/transfer.svg" alt=""></div>
            <h2>3. API Endpoints</h2>
        </div>
        <p>Three endpoints. That's it. We keep things clean so you can focus on what matters - your data.</p>

        <div class="card-grid">
            <div class="endpoint-card">
                <span class="method method-get">GET</span>
                <h4>/CustomerAPI/GetData/</h4>
                <p>Retrieve impressions, movement data, dwell time, or visitor analytics for a specific device and date range.</p>
            </div>

            <div class="endpoint-card">
                <span class="method method-get">GET</span>
                <h4>/CustomerAPI/GetDeviceInfo/</h4>
                <p>Retrieve device configuration, location, status, and metadata for a specific JamBox.</p>
            </div>

            <div class="endpoint-card">
                <span class="method method-post">POST</span>
                <h4>/CustomerAPI/AddData/</h4>
                <p>Submit custom user data to associate with a device (for external data integration).</p>
            </div>
        </div>

        <div class="alert alert-info">
            <strong>Location Data:</strong> Need lat/long coordinates? Use the <span class="inline-code">GetDeviceInfo</span> endpoint - it returns full geolocation data including latitude, longitude, and timezone for each JamBox.
        </div>
    </section>

    <!-- Data Types -->
    <section class="section" id="data-types">
        <div class="section-header">
            <div class="section-icon"><img src="icons/statistics.svg" alt=""></div>
            <h2>4. Data Types</h2>
        </div>
        <p>Pick your flavour. Whether you need impressions for media buyers or dwell time for engagement analysis, we've got you covered. Just set the <span class="inline-code">type_data</span> parameter:</p>

        <table>
            <tr>
                <th>Type</th>
                <th>Description</th>
                <th>Filter Options</th>
            </tr>
            <tr>
                <td><span class="inline-code">Impression</span></td>
                <td>Total impressions/views detected by the JamBox sensor</td>
                <td>All, Default</td>
            </tr>
            <tr>
                <td><span class="inline-code">Visitors</span></td>
                <td>Unique visitor counts</td>
                <td>All, Default</td>
            </tr>
            <tr>
                <td><span class="inline-code">DwellTime</span></td>
                <td>Time spent in detection zone (engagement metrics)</td>
                <td>All, Default</td>
            </tr>
            <tr>
                <td><span class="inline-code">UserData</span></td>
                <td>Custom user-submitted data</td>
                <td>All</td>
            </tr>
        </table>

        <h3>Filter Options</h3>
        <ul>
            <li><strong>All:</strong> Returns all data points including zone breakdowns (Immediate, Near, Far, Remote)</li>
            <li><strong>Default:</strong> Returns aggregated totals only</li>
        </ul>
    </section>

    <!-- Request Format -->
    <section class="section" id="request-format">
        <div class="section-header">
            <div class="section-icon"><img src="icons/settings.svg" alt=""></div>
            <h2>5. Request Format</h2>
        </div>
        <p>Here's exactly what to send. Copy it, tweak it, make it yours.</p>

        <h3>GetData Request Body</h3>
        <div class="code-block">
            <pre>{
    "project_name": "Your Project Name",
    "device_number": "JB000XXX",
    "start_date": "YYYY-MM-DD",
    "end_date": "YYYY-MM-DD",
    "type_data": "Impression|Visitors|DwellTime|UserData",
    "filter": "All|Default"
}</pre>
        </div>

        <table>
            <tr>
                <th>Parameter</th>
                <th>Type</th>
                <th>Required</th>
                <th>Description</th>
            </tr>
            <tr>
                <td><span class="inline-code">project_name</span></td>
                <td>string</td>
                <td>Yes</td>
                <td>Project name (case-sensitive)</td>
            </tr>
            <tr>
                <td><span class="inline-code">device_number</span></td>
                <td>string</td>
                <td>Yes</td>
                <td>JamBox device ID (e.g., JB001234)</td>
            </tr>
            <tr>
                <td><span class="inline-code">start_date</span></td>
                <td>string</td>
                <td>Yes</td>
                <td>Start date in YYYY-MM-DD format</td>
            </tr>
            <tr>
                <td><span class="inline-code">end_date</span></td>
                <td>string</td>
                <td>Yes</td>
                <td>End date in YYYY-MM-DD format</td>
            </tr>
            <tr>
                <td><span class="inline-code">type_data</span></td>
                <td>string</td>
                <td>Yes</td>
                <td>Data type to retrieve</td>
            </tr>
            <tr>
                <td><span class="inline-code">filter</span></td>
                <td>string</td>
                <td>Yes</td>
                <td>Filter mode: "All" or "Default"</td>
            </tr>
        </table>

        <div class="alert alert-important">
            <strong>Heads Up:</strong> Project names are case-sensitive. "Mall_Campaign" and "mall_campaign" are treated as different projects. Always use the exact name as shown in your Data Jam Portal.
        </div>

        <h3>GetDeviceInfo Request Body</h3>
        <div class="code-block">
            <pre>{
    "project_name": "Your Project Name",
    "device_number": "JB000XXX"
}</pre>
        </div>

        <h3>AddData Request Body</h3>
        <p>Submit custom data points to associate with a device. Perfect for integrating external data sources like sales, weather, or event data.</p>
        <div class="code-block">
            <pre>{
    "project_name": "Your Project Name",
    "device_number": "JB000XXX",
    "timezone": "Europe/London",
    "user_data": [
        {
            "timestamp": "2026-01-15 09:00:00",
            "value": 100
        },
        {
            "timestamp": "2026-01-15 10:00:00",
            "value": 150
        },
        {
            "timestamp": "2026-01-15 11:00:00",
            "value": 200
        }
    ],
    "type_data": "UserData"
}</pre>
        </div>

        <table>
            <tr>
                <th>Parameter</th>
                <th>Type</th>
                <th>Required</th>
                <th>Description</th>
            </tr>
            <tr>
                <td><span class="inline-code">project_name</span></td>
                <td>string</td>
                <td>Yes</td>
                <td>Project name (case-sensitive)</td>
            </tr>
            <tr>
                <td><span class="inline-code">device_number</span></td>
                <td>string</td>
                <td>Yes</td>
                <td>JamBox device ID</td>
            </tr>
            <tr>
                <td><span class="inline-code">timezone</span></td>
                <td>string</td>
                <td>Yes</td>
                <td>IANA timezone (e.g., Europe/London, America/New_York)</td>
            </tr>
            <tr>
                <td><span class="inline-code">user_data</span></td>
                <td>array</td>
                <td>Yes</td>
                <td>Array of timestamp/value pairs</td>
            </tr>
            <tr>
                <td><span class="inline-code">type_data</span></td>
                <td>string</td>
                <td>Yes</td>
                <td>Must be "UserData"</td>
            </tr>
        </table>
    </section>

    <!-- Response Format -->
    <section class="section" id="response-format">
        <div class="section-header">
            <div class="section-icon"><img src="icons/download.svg" alt=""></div>
            <h2>6. Response Format</h2>
        </div>
        <p>Here's what comes back. Clean JSON, hourly breakdowns, everything you need to slice and dice your data.</p>

        <h3>Successful GetData Response</h3>
        <div class="code-block">
            <pre>{
    "response": [
        {
            "Date": "25th-Dec",
            "Day": "Thu",
            "Project": "PR019043",
            "Device": "JB000123",
            "Sum": 3809,
            "AveDW": 7,
            "hour01": 53,
            "hour02": 54,
            ...
            "hour23": 120
        }
    ]
}</pre>
        </div>

        <h3>Successful GetDeviceInfo Response</h3>
        <div class="code-block">
            <pre>{
    "device_info": [
        {
            "device_number": "JB000123",
            "device_status": "Enabled",
            "create_date": "2023-12-06",
            "registration_status": "Enabled",
            "device_version": "DataJam_v5.6",
            "device_hardware": "M5AtomS3",
            "registration_date": "2025-11-10",
            "longitude": "-0.123456",
            "latitude": "51.50735",
            "dev_location_ref": "Main Entrance",
            "dev_frameid": "Frame A",
            "timezone": "Europe/London",
            "mac_address": "AA:BB:CC:DD:EE:FF",
            "min_rssi": -70
        }
    ]
}</pre>
        </div>

        <h3>Error Responses</h3>
        <table>
            <tr>
                <th>Response</th>
                <th>Meaning</th>
            </tr>
            <tr>
                <td><span class="inline-code">{"msg": "Json Schema Validation Failed"}</span></td>
                <td>Missing or invalid request parameters</td>
            </tr>
            <tr>
                <td><span class="inline-code">{"msg": "User not allowed for Project."}</span></td>
                <td>User doesn't have access to this project</td>
            </tr>
            <tr>
                <td><span class="inline-code">{"msg": "End Date should be up to 30 days from start days"}</span></td>
                <td>Date range exceeds 30-day limit</td>
            </tr>
            <tr>
                <td><span class="inline-code">{"message": "No Data Present for Device"}</span></td>
                <td>No data exists for specified device/date range</td>
            </tr>
        </table>
    </section>

    <!-- Limits -->
    <section class="section" id="limits">
        <div class="section-header">
            <div class="section-icon"><img src="icons/time.svg" alt=""></div>
            <h2>7. Rate Limits & Constraints</h2>
        </div>
        <p>One thing to know: we keep queries focused. Here's the deal:</p>

        <div class="card">
            <h3>30-Day Window</h3>
            <p>Each request can pull up to <strong>30 days of data</strong>. This keeps things fast and prevents massive queries from slowing everyone down. Same rule as the Portal - consistency is key.</p>

            <div class="alert alert-warning">
                Attempting to query more than 30 days will return:<br>
                <span class="inline-code">{"msg": "End Date should be up to 30 days from start days"}</span>
            </div>

            <h4>Need a Full Year?</h4>
            <p>No problem. Just batch your requests. 12 calls, 12 months - done:</p>

            <div class="code-block">
                <pre># Example: Query a full year with 12 monthly calls
January:   start_date: "2026-01-01", end_date: "2026-01-31"
February:  start_date: "2026-02-01", end_date: "2026-02-28"
March:     start_date: "2026-03-01", end_date: "2026-03-31"
...
December:  start_date: "2026-12-01", end_date: "2026-12-31"</pre>
            </div>
        </div>
    </section>

    <!-- Postman Setup -->
    <section class="section page-break" id="postman">
        <div class="section-header">
            <div class="section-icon"><img src="icons/book.svg" alt=""></div>
            <h2>8. Postman Setup Guide</h2>
        </div>
        <p>Postman is the easiest way to test the API without writing a single line of code. Here's your setup in 6 steps:</p>

        <h3>Step 1: Create a Postman Account</h3>
        <ol>
            <li>Go to <a href="https://www.postman.com" style="color: var(--dj-pink)">https://www.postman.com</a></li>
            <li>Click "Sign Up for Free" or sign in to your existing account</li>
        </ol>

        <h3>Step 2: Create a Workspace</h3>
        <ol>
            <li>Click on "Workspaces" in the navigation bar</li>
            <li>Click "Create Workspace"</li>
            <li>Choose "Blank workspace" and click Next</li>
            <li>Name your workspace (e.g., "Data Jam API") and set access permissions</li>
            <li>Click "Create"</li>
        </ol>

        <h3>Step 3: Import Collection</h3>
        <ol>
            <li>Click the "Import" button in the top left</li>
            <li>Drag and drop the Data Jam collection JSON file, or select it from your files</li>
            <li>The collection will appear in your sidebar under "Collections"</li>
        </ol>

        <h3>Step 4: Configure Authentication</h3>
        <ol>
            <li>Click on any request in the collection</li>
            <li>Go to the "Authorization" tab</li>
            <li>Select "Basic Auth" as the Type</li>
            <li>Enter your Data Jam Portal username (email) and password</li>
        </ol>

        <h3>Step 5: Configure Request Body</h3>
        <ol>
            <li>Go to the "Body" tab</li>
            <li>Select "raw" and "JSON"</li>
            <li>Enter your request parameters (project_name, device_number, dates, etc.)</li>
        </ol>

        <h3>Step 6: Send Request</h3>
        <ol>
            <li>Click the blue "Send" button</li>
            <li>View the response in the lower panel</li>
        </ol>
    </section>

    <!-- Code Examples -->
    <section class="section" id="examples">
        <div class="section-header">
            <div class="section-icon"><img src="icons/coding.svg" alt=""></div>
            <h2>9. Code Examples</h2>
        </div>
        <p>Copy. Paste. Customise. Get jamming in your language of choice:</p>

        <h3>cURL</h3>
        <div class="code-block">
            <pre>curl -X GET "https://datajamportal.com/CustomerAPI/GetData/" \
  -u "user@email.com:password" \
  -H "Content-Type: application/json" \
  -d '{
    "project_name": "Data Jam",
    "device_number": "JB000123",
    "start_date": "2026-01-01",
    "end_date": "2026-01-30",
    "type_data": "Impression",
    "filter": "All"
  }'</pre>
        </div>

        <h3>Python</h3>
        <div class="code-block">
            <pre>import requests
from requests.auth import HTTPBasicAuth

url = "https://datajamportal.com/CustomerAPI/GetData/"

payload = {
    "project_name": "Data Jam",
    "device_number": "JB000123",
    "start_date": "2026-01-01",
    "end_date": "2026-01-30",
    "type_data": "Impression",
    "filter": "All"
}

response = requests.get(
    url,
    json=payload,
    auth=HTTPBasicAuth("user@email.com", "password")
)

print(response.json())</pre>
        </div>

        <h3>JavaScript (Node.js)</h3>
        <div class="code-block">
            <pre>const axios = require('axios');

const credentials = Buffer.from('user@email.com:password').toString('base64');

axios.get('https://datajamportal.com/CustomerAPI/GetData/', {
    headers: {
        'Authorization': `Basic ${credentials}`,
        'Content-Type': 'application/json'
    },
    data: {
        project_name: 'Data Jam',
        device_number: 'JB000123',
        start_date: '2026-01-01',
        end_date: '2026-01-30',
        type_data: 'Impression',
        filter: 'All'
    }
})
.then(response => console.log(response.data))
.catch(error => console.error(error));</pre>
        </div>
    </section>

    <!-- FAQ -->
    <section class="section" id="faq">
        <div class="section-header">
            <div class="section-icon"><img src="icons/help.svg" alt=""></div>
            <h2>10. Frequently Asked Questions</h2>
        </div>
        <p>Got questions? We've got answers:</p>

        <div class="card">
            <h4>What's a Project?</h4>
            <p>Think of it as a folder for your JamBoxes. A Project groups devices by campaign, client, or location. One project might be "Mall_Entrance_Q1" - all the JamBoxes for that activation in one place.</p>
        </div>

        <div class="card">
            <h4>What's a Device?</h4>
            <p>That's your JamBox. Every JamBox has a unique ID like "JB001234" - that's the serial number you'll use in your API calls to pull data from that specific sensor.</p>
        </div>

        <div class="card">
            <h4>Where do I find my Project or Device ID?</h4>
            <p>Check your Data Jam Portal - it's right there in your installation summary. Or just ping your account manager - we're always happy to help.</p>
        </div>

        <div class="card">
            <h4>What data do I get back?</h4>
            <p>The good stuff: impressions, visitor counts, dwell times, hourly breakdowns, and more. All timestamped, all ready to roll into your reports.</p>
        </div>

        <div class="card">
            <h4>How fresh is the data?</h4>
            <p>Near real-time. We're talking 5 minutes from detection to API. Your JamBox captures it, we process it, you query it. That's the Data Jam way.</p>
        </div>

        <div class="card">
            <h4>Can I pull more than 30 days?</h4>
            <p>Not in one call - but you can easily batch requests. Need a year? That's 12 calls. We've got code examples above that make it a breeze.</p>
        </div>
    </section>

    <!-- Support -->
    <section class="section" id="support">
        <div class="section-header">
            <div class="section-icon"><img src="icons/mailing.svg" alt=""></div>
            <h2>11. Support</h2>
        </div>
        <p>Stuck? Hit a snag? Just want to say hi? We're here for it. The Data Jam team is ready to help you get the most out of your data:</p>

        <div class="contact-grid">
            <div class="contact-item">
                <h4>Development Team</h4>
                <p><a href="mailto:devteam@data-jam.com">devteam@data-jam.com</a></p>
            </div>
            <div class="contact-item">
                <h4>General Support</h4>
                <p><a href="mailto:team@data-jam.com">team@data-jam.com</a></p>
            </div>
            <div class="contact-item">
                <h4>US Contact</h4>
                <p>Arran: (747) 243 3513</p>
            </div>
            <div class="contact-item">
                <h4>UK Contact</h4>
                <p>Alex: +44 7827 813388</p>
            </div>
        </div>

        <div class="alert alert-info">
            <strong>Coming Soon:</strong> Data Jam PULSE - Our predictive movement engine is coming. Know where your audience will be, not just where they've been. The future of OOH intelligence is almost here.
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="logo-small" style="margin-bottom: 20px;">
            <a href="https://www.data-jam.com"><img src="logo-gradient.png" alt="Data Jam"></a>
        </div>
        <p style="font-size: 1.1rem; margin-bottom: 10px;"><strong>Data Jam API Documentation</strong></p>
        <p>Version 2.0 | 2026</p>
        <p style="margin-top: 15px; font-size: 0.9rem; opacity: 0.7;">Making your data accessible. Real data, real time.</p>
        <p style="margin-top: 20px;"><a href="https://www.data-jam.com" style="color: var(--dj-pink);">www.data-jam.com</a></p>
    </footer>

</div>

<script>
// Sidebar Toggle
const sidebar = document.getElementById('sidebar');
const sidebarToggle = document.getElementById('sidebarToggle');
const sidebarNav = document.getElementById('sidebarNav');

sidebarToggle.addEventListener('click', () => {
    sidebar.classList.toggle('active');
    sidebarToggle.classList.toggle('active');
});

// Close sidebar when clicking a link
sidebarNav.querySelectorAll('a').forEach(link => {
    link.addEventListener('click', () => {
        sidebar.classList.remove('active');
        sidebarToggle.classList.remove('active');
    });
});

// Active link highlighting on scroll
const sections = document.querySelectorAll('section[id]');
const navLinks = sidebarNav.querySelectorAll('a');

window.addEventListener('scroll', () => {
    let current = '';
    sections.forEach(section => {
        const sectionTop = section.offsetTop - 100;
        if (scrollY >= sectionTop) {
            current = section.getAttribute('id');
        }
    });

    navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === '#' + current) {
            link.classList.add('active');
        }
    });
});

// Copy Buttons for Code Blocks
document.querySelectorAll('.code-block').forEach(block => {
    const btn = document.createElement('button');
    btn.className = 'copy-btn';
    btn.textContent = 'Copy';
    block.appendChild(btn);

    btn.addEventListener('click', async () => {
        const code = block.querySelector('pre').textContent;
        try {
            await navigator.clipboard.writeText(code);
            btn.textContent = 'Copied!';
            btn.classList.add('copied');
            setTimeout(() => {
                btn.textContent = 'Copy';
                btn.classList.remove('copied');
            }, 2000);
        } catch (err) {
            btn.textContent = 'Error';
            setTimeout(() => {
                btn.textContent = 'Copy';
            }, 2000);
        }
    });
});

// Search Functionality
const searchBox = document.getElementById('searchBox');
const searchResults = document.getElementById('searchResults');

// Searchable content index
const searchableContent = [
    { title: 'Quick Start', section: '#quick-start', keywords: 'base url curl example get started begin' },
    { title: 'Try It Live', section: '#sandbox', keywords: 'sandbox test try interactive playground demo live api explorer' },
    { title: 'Authentication', section: '#authentication', keywords: 'login credentials username password basic auth header authorization' },
    { title: 'GetData Endpoint', section: '#endpoints', keywords: 'getdata impressions visitors dwelltime movement data retrieve' },
    { title: 'GetDeviceInfo Endpoint', section: '#endpoints', keywords: 'getdeviceinfo device info latitude longitude location gps coordinates lat long' },
    { title: 'AddData Endpoint', section: '#endpoints', keywords: 'adddata post submit custom user data external integration' },
    { title: 'Data Types', section: '#data-types', keywords: 'impression visitors dwelltime userdata type filter all default' },
    { title: 'Request Format', section: '#request-format', keywords: 'json body project_name device_number start_date end_date parameters request' },
    { title: 'Response Format', section: '#response-format', keywords: 'json response error success hour date device sum' },
    { title: 'Rate Limits', section: '#limits', keywords: '30 days limit constraints batch monthly yearly requests' },
    { title: 'Postman Setup', section: '#postman', keywords: 'postman test api collection workspace import authorization' },
    { title: 'cURL Example', section: '#examples', keywords: 'curl command line terminal bash shell' },
    { title: 'Python Example', section: '#examples', keywords: 'python requests httpbasicauth code script' },
    { title: 'JavaScript Example', section: '#examples', keywords: 'javascript nodejs node axios code' },
    { title: 'FAQ - Projects', section: '#faq', keywords: 'project what is folder campaign client' },
    { title: 'FAQ - Devices', section: '#faq', keywords: 'device jambox sensor serial number id' },
    { title: 'FAQ - Data Freshness', section: '#faq', keywords: 'fresh real-time 5 minutes delay latency' },
    { title: 'Support & Contact', section: '#support', keywords: 'help email phone contact support team devteam' },
    { title: 'Timezone', section: '#request-format', keywords: 'timezone iana europe london america new york' },
    { title: 'Latitude & Longitude', section: '#endpoints', keywords: 'latitude longitude lat long gps coordinates location geolocation' },
    { title: 'Error Messages', section: '#response-format', keywords: 'error msg json schema validation failed not allowed 30 days' }
];

searchBox.addEventListener('input', (e) => {
    const query = e.target.value.toLowerCase().trim();

    if (query.length < 2) {
        searchResults.innerHTML = '';
        return;
    }

    const results = searchableContent.filter(item =>
        item.title.toLowerCase().includes(query) ||
        item.keywords.toLowerCase().includes(query)
    );

    if (results.length === 0) {
        searchResults.innerHTML = '<div class="no-results">No results found</div>';
        return;
    }

    searchResults.innerHTML = results.map(item => `
        <div class="search-result-item" data-section="${item.section}">
            ${item.title}
        </div>
    `).join('');

    // Add click handlers to results
    searchResults.querySelectorAll('.search-result-item').forEach(item => {
        item.addEventListener('click', () => {
            const section = item.dataset.section;
            window.location.hash = section;
            searchBox.value = '';
            searchResults.innerHTML = '';
            sidebar.classList.remove('active');
            sidebarToggle.classList.remove('active');
        });
    });
});

// Keyboard shortcut: "/" to focus search
document.addEventListener('keydown', (e) => {
    if (e.key === '/' && document.activeElement !== searchBox) {
        e.preventDefault();
        sidebar.classList.add('active');
        sidebarToggle.classList.add('active');
        searchBox.focus();
    }
    // Escape to close sidebar
    if (e.key === 'Escape') {
        sidebar.classList.remove('active');
        sidebarToggle.classList.remove('active');
        searchBox.blur();
    }
});

// Close sidebar when clicking outside
document.addEventListener('click', (e) => {
    if (!sidebar.contains(e.target) && !sidebarToggle.contains(e.target)) {
        sidebar.classList.remove('active');
        sidebarToggle.classList.remove('active');
    }
});

// ==================== SANDBOX FUNCTIONALITY ====================

// Tab switching
document.querySelectorAll('.sandbox-tab').forEach(tab => {
    tab.addEventListener('click', () => {
        // Remove active from all tabs and contents
        document.querySelectorAll('.sandbox-tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.sandbox-content').forEach(c => c.classList.remove('active'));

        // Add active to clicked tab and corresponding content
        tab.classList.add('active');
        document.getElementById('tab-' + tab.dataset.tab).classList.add('active');
    });
});

// Set default dates (today - 7 days to today)
const today = new Date();
const weekAgo = new Date(today);
weekAgo.setDate(weekAgo.getDate() - 7);

document.getElementById('sandbox-start').value = weekAgo.toISOString().split('T')[0];
document.getElementById('sandbox-end').value = today.toISOString().split('T')[0];

// API Proxy URL (Netlify serverless function)
const PROXY_URL = '/.netlify/functions/api-proxy';

// GetData request
document.getElementById('sandbox-send-getdata').addEventListener('click', async () => {
    const btn = document.getElementById('sandbox-send-getdata');
    const statusEl = document.getElementById('sandbox-status-getdata');
    const outputEl = document.getElementById('sandbox-output-getdata');

    const email = document.getElementById('sandbox-email').value;
    const password = document.getElementById('sandbox-password').value;
    const project = document.getElementById('sandbox-project').value;
    const device = document.getElementById('sandbox-device').value;
    const startDate = document.getElementById('sandbox-start').value;
    const endDate = document.getElementById('sandbox-end').value;
    const typeData = document.getElementById('sandbox-type').value;
    const filter = document.getElementById('sandbox-filter').value;

    // Validation
    if (!email || !password || !project || !device || !startDate || !endDate) {
        statusEl.textContent = 'Missing fields';
        statusEl.className = 'sandbox-status error';
        outputEl.textContent = '// Please fill in all required fields';
        return;
    }

    // Show loading state
    btn.disabled = true;
    btn.textContent = 'Sending...';
    statusEl.textContent = 'Loading...';
    statusEl.className = 'sandbox-status loading';
    outputEl.textContent = '// Fetching data via proxy...';

    try {
        const response = await fetch(PROXY_URL, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                endpoint: 'GetData',
                credentials: email + ':' + password,
                payload: {
                    project_name: project,
                    device_number: device,
                    start_date: startDate,
                    end_date: endDate,
                    type_data: typeData,
                    filter: filter
                }
            })
        });

        const data = await response.json();

        if (response.ok && !data.error) {
            statusEl.textContent = '200 OK';
            statusEl.className = 'sandbox-status success';
        } else {
            statusEl.textContent = data.msg ? 'API Error' : 'Error';
            statusEl.className = 'sandbox-status error';
        }

        outputEl.textContent = JSON.stringify(data, null, 2);

    } catch (error) {
        statusEl.textContent = 'Error';
        statusEl.className = 'sandbox-status error';
        outputEl.textContent = '// Error: ' + error.message;
    }

    btn.disabled = false;
    btn.textContent = 'Send Request';
});

// GetDeviceInfo request
document.getElementById('sandbox-send-info').addEventListener('click', async () => {
    const btn = document.getElementById('sandbox-send-info');
    const statusEl = document.getElementById('sandbox-status-info');
    const outputEl = document.getElementById('sandbox-output-info');

    const email = document.getElementById('sandbox-email-info').value;
    const password = document.getElementById('sandbox-password-info').value;
    const project = document.getElementById('sandbox-project-info').value;
    const device = document.getElementById('sandbox-device-info').value;

    // Validation
    if (!email || !password || !project || !device) {
        statusEl.textContent = 'Missing fields';
        statusEl.className = 'sandbox-status error';
        outputEl.textContent = '// Please fill in all required fields';
        return;
    }

    // Show loading state
    btn.disabled = true;
    btn.textContent = 'Sending...';
    statusEl.textContent = 'Loading...';
    statusEl.className = 'sandbox-status loading';
    outputEl.textContent = '// Fetching device info via proxy...';

    try {
        const response = await fetch(PROXY_URL, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                endpoint: 'GetDeviceInfo',
                credentials: email + ':' + password,
                payload: {
                    project_name: project,
                    device_number: device
                }
            })
        });

        const data = await response.json();

        if (response.ok && !data.error) {
            statusEl.textContent = '200 OK';
            statusEl.className = 'sandbox-status success';
        } else {
            statusEl.textContent = data.msg ? 'API Error' : 'Error';
            statusEl.className = 'sandbox-status error';
        }

        outputEl.textContent = JSON.stringify(data, null, 2);

    } catch (error) {
        statusEl.textContent = 'Error';
        statusEl.className = 'sandbox-status error';
        outputEl.textContent = '// Error: ' + error.message;
    }

    btn.disabled = false;
    btn.textContent = 'Send Request';
});
</script>

</body>
</html>
